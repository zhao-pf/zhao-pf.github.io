<!doctype html>
<html lang="zh"><head><meta charset="utf-8"><meta name="generator" content="Hexo 4.2.0"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"><meta><meta name="keywords" content="[object Object]"><meta name="description" content="最近在网上找到一些违规的App，本人主要想获得他的Api接口，并且去学习他的加密技术，以后做app时候可以借鉴参考今天的主角是： ddd"><meta name="author" content="赵鹏飞"><title>深扒9UU网络请求加密 - 赵鹏飞的笔记库</title><meta description="最近在网上找到一些违规的App，本人主要想获得他的Api接口，并且去学习他的加密技术，以后做app时候可以借鉴参考今天的主角是： ddd"><meta property="og:type" content="article"><meta property="og:title" content="深扒9UU网络请求加密"><meta property="og:url" content="https://www.zpf23.cn/2020/2020-7-2-9uuapp.html"><meta property="og:site_name" content="赵鹏飞"><meta property="og:description" content="最近在网上找到一些违规的App，本人主要想获得他的Api接口，并且去学习他的加密技术，以后做app时候可以借鉴参考今天的主角是： ddd"><meta property="og:locale" content="zh_CN"><meta property="og:image" content="https://avatars1.githubusercontent.com/u/27126222?s=460&amp;u=84c5ad9ced5374cd3f9361cd736c64bb2e20905c&amp;v=4"><meta property="article:published_time" content="2020-07-02T08:41:46.000Z"><meta property="article:modified_time" content="2020-07-27T06:53:50.816Z"><meta property="article:author" content="赵鹏飞"><meta property="article:tag" content="教程"><meta property="twitter:card" content="summary"><meta property="twitter:image" content="https://avatars1.githubusercontent.com/u/27126222?s=460&amp;u=84c5ad9ced5374cd3f9361cd736c64bb2e20905c&amp;v=4"><script type="application/ld+json">{"@context":"https://schema.org","@type":"BlogPosting","mainEntityOfPage":{"@type":"WebPage","@id":"https://www.zpf23.cn/2020/2020-7-2-9uuapp.html"},"headline":"深扒9UU网络请求加密","image":["https://image.smodel.top/images/logo.png"],"datePublished":"2020-07-02T08:41:46.000Z","dateModified":"2020-07-27T06:53:50.816Z","author":{"@type":"Person","name":"赵鹏飞"},"description":"最近在网上找到一些违规的App，本人主要想获得他的Api接口，并且去学习他的加密技术，以后做app时候可以借鉴参考今天的主角是： ddd"}</script><link rel="alternative" href="/atom.xml" title="赵鹏飞的笔记库" type="application/atom+xml"><link rel="icon" href="https://image.smodel.top/images/logo.png"><link rel="stylesheet" href="https://cdnjs.loli.net/ajax/libs/font-awesome/5.12.0/css/all.min.css"><link rel="stylesheet" href="https://fonts.loli.net/css?family=Ubuntu:400,600|Source+Code+Pro|Monda:300,300italic,400,400italic,700,700italic|Roboto Slab:300,300italic,400,400italic,700,700italic|Microsoft YaHei:300,300italic,400,400italic,700,700italic|PT Mono:300,300italic,400,400italic,700,700italic&amp;amp;subset=latin,latin-ext|Inconsolata|Itim|Lobster.css"><link rel="stylesheet" href="https://cdnjs.loli.net/ajax/libs/highlight.js/9.12.0/styles/atom-one-light.min.css"><style>body>.footer,body>.navbar,body>.section{opacity:0}</style><!--!--><!--!--><script src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js" defer></script><link rel="stylesheet" href="https://cdnjs.loli.net/ajax/libs/lightgallery/1.6.12/css/lightgallery.min.css"><link rel="stylesheet" href="https://cdnjs.loli.net/ajax/libs/justifiedGallery/3.7.0/css/justifiedGallery.min.css"><!--!--><!--!--><script src="https://cdnjs.loli.net/ajax/libs/pace/1.0.2/pace.min.js"></script><link rel="stylesheet" href="/css/style.css"><script src="https://cdnjs.loli.net/ajax/libs/jquery/3.3.1/jquery.min.js"></script><script src="/js/globalUtils.js"></script></head><body class="is-3-column has-navbar-fixed-top"><nav class="navbar navbar-main is-fixed-top"><div class="container"><div class="navbar-brand justify-content-center"><a class="navbar-item navbar-logo" href="/"><img src="https://image.smodel.top/images/logo.png" alt="赵鹏飞的笔记库" height="28"></a></div><div class="navbar-menu"><div class="navbar-start"><a class="navbar-item" href="/">首页</a><a class="navbar-item" href="/archives">归档</a><a class="navbar-item" href="/categories">分类</a><a class="navbar-item" href="/tags">标签</a><a class="navbar-item" href="/about">关于</a></div><div class="navbar-end"><a class="navbar-item" target="_blank" rel="noopener" title="Open my GitHub" href="https://github.com/zhao-pf"><i class="fab fa-github"></i></a><a class="navbar-item search" title="搜索" href="javascript:;"><i class="fas fa-search"></i></a><a class="navbar-item" id="night-nav" title="Night Mode" href="javascript:;"><i class="fas fa-moon" id="night-icon"></i></a></div></div></div></nav><script type="text/javascript" src="/js/theme-setting.js"></script><section class="section"><div class="container"><div class="columns"><div class="column order-2 column-main is-8-tablet is-8-desktop is-9-widescreen"><div class="card"><article class="card-content article" role="article"><div class="article-meta size-small is-uppercase level is-mobile"><div class="level-left"><i class="far fa-calendar-plus"> </i>2020-07-02  <span class="level-item"><i class="far fa-clock"> </i>35 分钟  <i class="fas fa-pencil-alt"> </i>5.2 k</span></div></div><h1 class="title is-3 is-size-4-mobile">深扒9UU网络请求加密</h1><div class="content"><p>最近在网上找到一些违规的App，本人主要想获得他的Api接口，并且去学习他的加密技术，以后做app时候可以借鉴参考<br>今天的主角是： ddd</p>
<a id="more"></a>
<p><img src="https://image.smodel.top/images/2020/19/1.png" alt=""><br>至于App的下载链接自己网上找，因为某些原因的我就不提供链接了<br><img src="https://image.smodel.top/images/2020/19/2.gif" alt=""></p>
<h2 id="一、抓包分析"><a href="#一、抓包分析" class="headerlink" title="一、抓包分析"></a>一、抓包分析</h2><p>找接口第一件事肯定是抓包的嘞，现在我们去用Fiddler抓包，Fiddle抓手机的包需要稍微配置一下</p>
<h3 id="1-点击选项"><a href="#1-点击选项" class="headerlink" title="1.点击选项"></a>1.点击选项</h3><p><img src="https://image.smodel.top/images/2020/19/3.png" alt=""></p>
<h3 id="2-将https和允许远程连接打开"><a href="#2-将https和允许远程连接打开" class="headerlink" title="2.将https和允许远程连接打开"></a>2.将https和允许远程连接打开</h3><p><img src="https://image.smodel.top/images/2020/19/4.png" alt=""></p>
<h3 id="3-查看电脑端局域网IP，Win-R-输入cmd-输入ipconfig即可-ipv4就是你的局域网IP"><a href="#3-查看电脑端局域网IP，Win-R-输入cmd-输入ipconfig即可-ipv4就是你的局域网IP" class="headerlink" title="3.查看电脑端局域网IP，Win+R 输入cmd 输入ipconfig即可 ipv4就是你的局域网IP"></a>3.查看电脑端局域网IP，Win+R 输入cmd 输入ipconfig即可 ipv4就是你的局域网IP</h3><p><img src="https://image.smodel.top/images/2020/19/5.png" alt=""></p>
<h3 id="4-手机端设置代理，打开wifi点击连接的wifi设置代理"><a href="#4-手机端设置代理，打开wifi点击连接的wifi设置代理" class="headerlink" title="4.手机端设置代理，打开wifi点击连接的wifi设置代理"></a>4.手机端设置代理，打开wifi点击连接的wifi设置代理</h3><p><img src="https://image.smodel.top/images/2020/19/6.png" alt=""></p>
<h3 id="5-手机打开浏览器访问192-168-1-118-8888进去以后安装一下证书"><a href="#5-手机打开浏览器访问192-168-1-118-8888进去以后安装一下证书" class="headerlink" title="5.手机打开浏览器访问192.168.1.118:8888进去以后安装一下证书"></a>5.手机打开浏览器访问192.168.1.118:8888进去以后安装一下证书</h3><h3 id="6-打开app刷一刷等待数据加载"><a href="#6-打开app刷一刷等待数据加载" class="headerlink" title="6.打开app刷一刷等待数据加载"></a>6.打开app刷一刷等待数据加载</h3><p><img src="https://image.smodel.top/images/2020/19/7.png" alt=""><br><img src="https://image.smodel.top/images/2020/19/8.png" alt=""><br>我们可以看到请求参数postdata加密，获取的响应也加密了<br>为了后期方便研究解密<br>选取一个较短的请求内容和响应内容保存一下，以便等等去研究，把我们需要用到的东西保存下来<br>请求</p>
<h4 id="请求网址：http-47-56-88-111-8082-app-apidomain"><a href="#请求网址：http-47-56-88-111-8082-app-apidomain" class="headerlink" title="请求网址：http://47.56.88.111:8082/app/apidomain"></a>请求网址：<a href="http://47.56.88.111:8082/app/apidomain">http://47.56.88.111:8082/app/apidomain</a></h4><h4 id="Header-经过尝试除了第一二个其余都不需要"><a href="#Header-经过尝试除了第一二个其余都不需要" class="headerlink" title="Header(经过尝试除了第一二个其余都不需要)"></a>Header(经过尝试除了第一二个其余都不需要)</h4><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//这个参数很重要</span></span><br><span class="line">suffix: <span class="number">624970</span> </span><br><span class="line">Content-Type: application/json; charset=utf<span class="number">-8</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//下面这些没用</span></span><br><span class="line">Content-Length: <span class="number">508</span></span><br><span class="line">Connection: Keep-Alive</span><br><span class="line">Accept-Encoding: gzip</span><br><span class="line">User-Agent: okhttp/<span class="number">3.14</span><span class="number">.2</span></span><br></pre></td></tr></table></figure>
<h4 id="请求参数"><a href="#请求参数" class="headerlink" title="请求参数"></a>请求参数</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;&quot;post-data&quot;:&quot;PzLkqSAItZGaaN0LRHlGdqub8aCPIBKpnA&#x2F;GyWvmHRnIw9nkaWdIctRkQtHVRiavhMnVU5j3sPR03wPsqJ2QP&#x2F;uK1+JLRYCbSpVW54m2rf2Qcl6rDyqzdz&#x2F;tDyOVqsukAo7R&#x2F;xw&#x2F;FKsBVBhAjL39jmHCTd5acRul9HI7ZgQYg9HUL5DJbCrxTqvOyoOxcLJIlnFOcGiASqx4PzqobWZ7bhptZiP0IygaSKj7&#x2F;oIBsqJ6YPu+r+iqc&#x2F;i0vPvn&#x2F;H7ZG+LZXjhq3kGBxHg6xdW1wWyO+7K0Mo+iR4rxd&#x2F;HjIlcN4lKljrjEplzTLRHhn2v38U+M0hJ2GRIkjoeexAqyxhmT0EvnsMsbr4N0F45&#x2F;c7eU2y0BMhHFDpRBeWni9P7T&#x2F;06Dp7xJPJO7PESGBDn3aYJd9ZVLFrqanzRf8LgCN0qE&#x2F;7MRpLKpQZ9YhwwWgJQHSAc7xTVHLNtZIlG+ZzK3KKvbQ+tUGm2jKak5zCxhoRs&#x3D;&quot;&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line"><span class="string">"code"</span>:<span class="number">0</span>,</span><br><span class="line"><span class="string">"msg"</span>:<span class="string">"\u64cd\u4f5c\u6210\u529f"</span>,<span class="comment">//unicode转中文--&gt;操作成功</span></span><br><span class="line"><span class="string">"data"</span>:<span class="string">"ebdPaRiKxsrjeTanIw8V5OMttiNI+q5RQNRUiOcmbu\/d0qCdyhtAlALDStCtTSycig8vmYFthZ3yBNYTEbnaUhGNHudQaiAwDQlMJwVXh6k="</span>,</span><br><span class="line"><span class="string">"suffix"</span>:<span class="string">"pvYcSk"</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="使用Postman模拟用上面的消息模拟测试一下"><a href="#使用Postman模拟用上面的消息模拟测试一下" class="headerlink" title="使用Postman模拟用上面的消息模拟测试一下"></a>使用Postman模拟用上面的消息模拟测试一下</h4><h4 id="1-选择Post输入网址，Headers参数"><a href="#1-选择Post输入网址，Headers参数" class="headerlink" title="1.选择Post输入网址，Headers参数"></a>1.选择Post输入网址，Headers参数</h4><p><img src="https://image.smodel.top/images/2020/19/10.png" alt=""></p>
<h4 id="2-选择Body选择下拉框中的Json，输入post参数"><a href="#2-选择Body选择下拉框中的Json，输入post参数" class="headerlink" title="2.选择Body选择下拉框中的Json，输入post参数"></a>2.选择Body选择下拉框中的Json，输入post参数</h4><p><img src="https://image.smodel.top/images/2020/19/11.png" alt=""></p>
<h4 id="3-点击发送，可以看到模拟成功"><a href="#3-点击发送，可以看到模拟成功" class="headerlink" title="3.点击发送，可以看到模拟成功"></a>3.点击发送，可以看到模拟成功</h4><p><img src="https://image.smodel.top/images/2020/19/12.png" alt=""></p>
<h4 id="4-经过多次请求可以看到data的值和suffix都在不断变化，而且每次都不一样，我们先不探究他是为什么。"><a href="#4-经过多次请求可以看到data的值和suffix都在不断变化，而且每次都不一样，我们先不探究他是为什么。" class="headerlink" title="4.经过多次请求可以看到data的值和suffix都在不断变化，而且每次都不一样，我们先不探究他是为什么。"></a>4.经过多次请求可以看到data的值和suffix都在不断变化，而且每次都不一样，我们先不探究他是为什么。</h4><p><img src="https://image.smodel.top/images/2020/19/13.png" alt=""></p>
<h4 id="5-改变请求参数中的suffix值，发现请求失败"><a href="#5-改变请求参数中的suffix值，发现请求失败" class="headerlink" title="5.改变请求参数中的suffix值，发现请求失败"></a>5.改变请求参数中的suffix值，发现请求失败</h4><p><img src="https://image.smodel.top/images/2020/19/14.png" alt=""></p>
<h2 id="二、拆包分析"><a href="#二、拆包分析" class="headerlink" title="二、拆包分析"></a>二、拆包分析</h2><p>梳理一下从抓包到现在所拥有的  </p>
<ul>
<li>用来请求的参数数据</li>
<li>数据是加密的</li>
<li>共同点请求和响应都有suffix</li>
<li>请求的suffix值变了就请求不到</li>
<li>响应内容每次都在变化  </li>
</ul>
<p>我们带着问题去拆包APK，之前我用的是MT反编译，由于大多人都没有会员，这边用电脑分析<br>需要用到的工具:<strong>jadx</strong><br>(本来是打算用<strong>dex2jar</strong>和<strong>jd-gui</strong>的，发现jadx反编译的代码更直观，就换成了这个，jadx使用教程我这里就不赘述了)<br>下载地址:<a href="https://github.com/skylot/jadx/releases">https://github.com/skylot/jadx/releases</a><br>搜索Header中的Content-Type参数，当然搜索suffix也可以,随便点进去看看<br><img src="https://image.smodel.top/images/2020/19/15.png" alt=""><br><img src="https://image.smodel.top/images/2020/19/16.png" alt=""></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> Request <span class="title">buildRequest</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    String str = <span class="keyword">null</span>;</span><br><span class="line">    <span class="keyword">if</span> (TextUtils.isEmpty(<span class="keyword">this</span>.baseUrl)) &#123;</span><br><span class="line">        LogUtil.a(<span class="string">"OkHttp"</span>, <span class="string">"baseUrl: "</span> + <span class="keyword">this</span>.baseUrl);</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">this</span>.map.put(<span class="string">"encode_sign"</span>, Util.b(<span class="keyword">this</span>.map));</span><br><span class="line">    String e = Util.e();</span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">        String jSONObject = <span class="keyword">new</span> JSONObject(<span class="keyword">this</span>.map).toString();</span><br><span class="line">        str = Util.a(jSONObject, <span class="string">"AG+BwcnekYZy$9f7X#b2zdB93brfFMmz"</span>, <span class="string">"f%Z4F+qtFh"</span> + e);</span><br><span class="line">        <span class="comment">//可以看到这个东西</span></span><br><span class="line">    &#125; <span class="keyword">catch</span> (Exception e2) &#123;</span><br><span class="line">        e2.printStackTrace();</span><br><span class="line">    &#125;</span><br><span class="line">    RequestBody create = FormBody.create(MediaType.b(<span class="string">"application/json; charset=utf-8"</span>), <span class="keyword">new</span> GsonBuilder().disableHtmlEscaping().create().toJson((Object) <span class="keyword">new</span> FormData(str)));</span><br><span class="line">    Request.Builder builder = <span class="keyword">new</span> Request.Builder();</span><br><span class="line">    Request.Builder a = builder.a(<span class="keyword">this</span>.baseUrl + <span class="keyword">this</span>.prefix).a(create);</span><br><span class="line">    Headers.Builder builder2 = <span class="keyword">new</span> Headers.Builder();</span><br><span class="line">    builder2.a(<span class="string">"suffix"</span>, e);</span><br><span class="line">    a.a(builder2.a());</span><br><span class="line">    <span class="keyword">return</span> a.a();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="我们先来分析一波"><a href="#我们先来分析一波" class="headerlink" title="我们先来分析一波"></a>我们先来分析一波</h3><p>在上面我们发现一个这个，我们ctrl点击进去这个a方法瞅瞅</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">str = Util.a(jSONObject, <span class="string">"AG+BwcnekYZy$9f7X#b2zdB93brfFMmz"</span>, <span class="string">"f%Z4F+qtFh"</span> + e);</span><br></pre></td></tr></table></figure>
<p><img src="https://image.smodel.top/images/2020/19/17.png" alt=""><br>有没有很惊喜我们得到了加密的方法<strong>AES/CBC/PKCS7Padding</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> String <span class="title">a</span><span class="params">(String str, String str2, String str3)</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">        Cipher instance = Cipher.getInstance(<span class="string">"AES/CBC/PKCS7Padding"</span>);</span><br><span class="line">        <span class="keyword">int</span> blockSize = instance.getBlockSize();</span><br><span class="line">        <span class="keyword">byte</span>[] bytes = str.getBytes();</span><br><span class="line">        <span class="keyword">int</span> length = bytes.length;</span><br><span class="line">        <span class="keyword">if</span> (length % blockSize != <span class="number">0</span>) &#123;</span><br><span class="line">            length += blockSize - (length % blockSize);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">byte</span>[] bArr = <span class="keyword">new</span> <span class="keyword">byte</span>[length];</span><br><span class="line">        System.arraycopy(bytes, <span class="number">0</span>, bArr, <span class="number">0</span>, bytes.length);</span><br><span class="line">        instance.init(<span class="number">1</span>, <span class="keyword">new</span> SecretKeySpec(str2.getBytes(), <span class="string">"AES"</span>), <span class="keyword">new</span> IvParameterSpec(str3.getBytes()));</span><br><span class="line">        <span class="comment">//从上面这个str1是加密字符串，str2是我们想要的密钥，str3为偏移</span></span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> String(Base64.encode(instance.doFinal(bArr), <span class="number">2</span>));</span><br><span class="line">    &#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">        e.printStackTrace();</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>所以</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//这个str就是加密的字符串 </span></span><br><span class="line">str = Util.a(jSONObject, <span class="string">"AG+BwcnekYZy$9f7X#b2zdB93brfFMmz"</span>, <span class="string">"f%Z4F+qtFh"</span> + e);</span><br><span class="line"><span class="comment">//第一个传入的是需要需加密字符串  第二个传入的是加密密钥  第三个传入的是偏移量</span></span><br></pre></td></tr></table></figure>
<p>那么这个e变量是个什么鬼，我们看到上面e调用了这个e方法，我们继续ctrl进去   </p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">String e = Util.e();</span><br></pre></td></tr></table></figure>
<p><img src="https://image.smodel.top/images/2020/19/18.png" alt=""></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">public static String e() &#123;</span><br><span class="line">    Random random &#x3D; new Random();</span><br><span class="line">    String str &#x3D; &quot;&quot;;</span><br><span class="line">    for (int i &#x3D; 0; i &lt; 6; i++) &#123;</span><br><span class="line">        str &#x3D; str + random.nextInt(10);</span><br><span class="line">    &#125;</span><br><span class="line">    return str;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>从上面这个方法，我们发现他是随机生成一个0-9的6位数字<br>好，我们继续向下看<br><img src="https://image.smodel.top/images/2020/19/19.png" alt=""><br>我们发现貌似suffix也是一个随机数，而且这个e和上面的e是同一个值<br>接下来我们再梳理一下我们拥有的</p>
<ul>
<li>加密算法:AES/CBC/PKCS7Padding</li>
<li>e的值:随机生成6位0-9的随机数(如:849589)</li>
<li>加密密钥:AG+BwcnekYZy$9f7X#b2zdB93brfFMmz</li>
<li>加密偏移:f%Z4F+qtFh + e的值</li>
<li>suffix的值:e的值  </li>
</ul>
<p>就这个地方，因为他这个随机值想了两天(混淆视听)<br>好既然知道了加密密钥和偏移量，我们再回去看看那段请求参数 </p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">suffix: <span class="number">624970</span></span><br></pre></td></tr></table></figure>
<h4 id="请求参数-1"><a href="#请求参数-1" class="headerlink" title="请求参数"></a>请求参数</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;&quot;post-data&quot;:&quot;PzLkqSAItZGaaN0LRHlGdqub8aCPIBKpnA&#x2F;GyWvmHRnIw9nkaWdIctRkQtHVRiavhMnVU5j3sPR03wPsqJ2QP&#x2F;uK1+JLRYCbSpVW54m2rf2Qcl6rDyqzdz&#x2F;tDyOVqsukAo7R&#x2F;xw&#x2F;FKsBVBhAjL39jmHCTd5acRul9HI7ZgQYg9HUL5DJbCrxTqvOyoOxcLJIlnFOcGiASqx4PzqobWZ7bhptZiP0IygaSKj7&#x2F;oIBsqJ6YPu+r+iqc&#x2F;i0vPvn&#x2F;H7ZG+LZXjhq3kGBxHg6xdW1wWyO+7K0Mo+iR4rxd&#x2F;HjIlcN4lKljrjEplzTLRHhn2v38U+M0hJ2GRIkjoeexAqyxhmT0EvnsMsbr4N0F45&#x2F;c7eU2y0BMhHFDpRBeWni9P7T&#x2F;06Dp7xJPJO7PESGBDn3aYJd9ZVLFrqanzRf8LgCN0qE&#x2F;7MRpLKpQZ9YhwwWgJQHSAc7xTVHLNtZIlG+ZzK3KKvbQ+tUGm2jKak5zCxhoRs&#x3D;&quot;&#125;</span><br></pre></td></tr></table></figure>
<p>分析一下上面这个的密钥和偏移<br>密钥就是固定的，偏移既然是e的值，e的值和suffix是同一个值<br>那么我们拼接一下</p>
<ul>
<li>加密密钥:AG+BwcnekYZy$9f7X#b2zdB93brfFMmz</li>
<li>加密偏移:f%Z4F+qtFh624970  </li>
</ul>
<p>我们赶紧去试试<br>这里我们按照代码中的方法解密一下<br>我直接去谷歌找了个AES CBC解密的网址做测试<br><img src="https://image.smodel.top/images/2020/19/21.png" alt=""><br>搞定，就这个地方，我弄了好久，脑子没转过来<br><img src="https://image.smodel.top/images/2020/19/22.png" alt=""></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">&quot;type&quot;:&quot;2&quot;,</span><br><span class="line">&quot;timezone&quot;:&quot;GMT+08:00&quot;,</span><br><span class="line">&quot;imei&quot;:&quot;&quot;,</span><br><span class="line">&quot;timestamp&quot;:&quot;1585785560&quot;,</span><br><span class="line">&quot;token&quot;:&quot;eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJpZCI6ODIyMTAxMSwiYmNfdXJsIjoiaHR0cHM6XC9cL2hlZTk4LmNvbVwvI1wvaG9tZT9zZXNzaW9udG9rZW49ODUzMTk2OV8xNTg1Nzg1NTUyIiwidGltZSI6MTU4NTc4NTQ2Nn0.Xkn5XfINeUZVYGgh91mE_N0YjowKTv5R8u21rYR_xGU&quot;,</span><br><span class="line">&quot;encode_sign&quot;:&quot;dbb976ac0443c6fd95b5baf790b3d20d&quot;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>为了验证，我们在给他加密回去，出问题了，我们可以看到加密的字符和原来的字符有所差异<br><img src="https://image.smodel.top/images/2020/19/23.png" alt=""><br>先别急，我们尝试用这个post提交去试一下</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">PzLkqSAItZGaaN0LRHlGdqub8aCPIBKpnA&#x2F;GyWvmHRnIw9nkaWdIctRkQtHVRiavhMnVU5j3sPR03wPsqJ2QP&#x2F;uK1+JLRYCbSpVW54m2rf2Qcl6rDyqzdz&#x2F;tDyOVqsukAo7R&#x2F;xw&#x2F;FKsBVBhAjL39jmHCTd5acRul9HI7ZgQYg9HUL5DJbCrxTqvOyoOxcLJIlnFOcGiASqx4PzqobWZ7bhptZiP0IygaSKj7&#x2F;oIBsqJ6YPu+r+iqc&#x2F;i0vPvn&#x2F;H7ZG+LZXjhq3kGBxHg6xdW1wWyO+7K0Mo+iR4rxd&#x2F;HjIlcN4lKljrjEplzTLRHhn2v38U+M0hJ2GRIkjoeexAqyxhmT0EvnsMsbr4N0F45&#x2F;c7eU2y0BMhHFDpRBeWni9P7T&#x2F;06Dp7xJPJO7PESGBDn3aYJd9ZVLFrqanzRf8LgCN0qE&#x2F;7MRpLKpQZ9YhwwWgJQHfcDJ0xCNNbpvJ4JISotfDg&#x3D;&#x3D;</span><br></pre></td></tr></table></figure>
<p>我们发现居然请求成功了<br><img src="https://image.smodel.top/images/2020/19/24.png" alt=""><br><img src="https://image.smodel.top/images/2020/19/25.png" alt=""><br>至于为什么，其实我到现在还没搞懂<br>好，现在我们用相同的方法去解密响应里面的请求</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line"><span class="string">"code"</span>:<span class="number">0</span>,</span><br><span class="line"><span class="string">"msg"</span>:<span class="string">"\u64cd\u4f5c\u6210\u529f"</span>,<span class="comment">//unicode转中文--&gt;操作成功</span></span><br><span class="line"><span class="string">"data"</span>:<span class="string">"ebdPaRiKxsrjeTanIw8V5OMttiNI+q5RQNRUiOcmbu\/d0qCdyhtAlALDStCtTSycig8vmYFthZ3yBNYTEbnaUhGNHudQaiAwDQlMJwVXh6k="</span>,</span><br><span class="line"><span class="string">"suffix"</span>:<span class="string">"pvYcSk"</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>这个suffix，就是我们的e值，我们同样方法去拼接，赶紧去试试<br><img src="https://image.smodel.top/images/2020/19/27.png" alt=""><br>有没有很激动，既然响应他会直接给我们，那么我们只需要知道如何解密响应的参数即可，现在我们需要继续去解决请求里面的，抓Api页数什么的接口，继续打开fiddle，一开始我们选择了一个短的去研究解密加密，这次我们选择一个长的，多解密看看，响应是什么<br><img src="https://image.smodel.top/images/2020/19/28.png" alt=""><br>找到了这个接口，解密出来的json数组，我们去格式化一下看看(下面我复制出来一个)<br>下面这个是格式化好的接口，看来这个就是我们想要的，xxxxxx为手动打码，我们从字面意思了解一下  </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">请求地址:http:&#x2F;&#x2F;47.56.88.111:8082&#x2F;index&#x2F;videoByTime</span><br><span class="line">请求参数:</span><br><span class="line">&#123;&quot;post-data&quot;:&quot;yLgaZeB96A5Guj+VA6nd2cAM9vyP3CxXYwhqLe1FOCxH0Q5iw63FrZyD3S74ecCl9T6wbwgm9o3fPeXxQ0+mfXs1bt0cZuopfOqkoNBUQA9jY8NLHOxKTGzwtu6R+6G+qMMU4bFEgEn0JvYxJ8M4tcL9mraLcrJmcpQ054WwuEHCkZFwEN8DtZMO3oOzbqAmkpvAQzFY8RPqK98cqlmKwrPj4TRLugoIGvzHfvdC71c&#x3D;&quot;&#125;</span><br><span class="line">suffix值:411657</span><br><span class="line">解密值:</span><br><span class="line">&#123;</span><br><span class="line">&quot;type&quot;:&quot;1&quot;,</span><br><span class="line">&quot;page&quot;:&quot;1&quot;,&#x2F;&#x2F;页数</span><br><span class="line">&quot;row_count&quot;:&quot;20&quot;,</span><br><span class="line">&quot;timezone&quot;:&quot;GMT+08:00&quot;,</span><br><span class="line">&quot;imei&quot;:&quot;&quot;,</span><br><span class="line">&quot;timestamp&quot;:&quot;1585809942&quot;,</span><br><span class="line">&quot;encode_sign&quot;:&quot;230347f77d52df663c57a0c53ca8ffa6&quot;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line">响应参数解密</span><br><span class="line">&#123;</span><br><span class="line">  &quot;total&quot;: 16313, </span><br><span class="line">  &quot;per_page&quot;: &quot;20&quot;, &#x2F;&#x2F;一页20个</span><br><span class="line">  &quot;current_page&quot;: 9, &#x2F;&#x2F;当前页</span><br><span class="line">  &quot;last_page&quot;: 816, &#x2F;&#x2F;一共816页</span><br><span class="line">  &quot;data&quot;: [</span><br><span class="line">    &#123;</span><br><span class="line">      &quot;id&quot;: 65791, &#x2F;&#x2F;id这个是视频id，下面会去抓视频界面的api</span><br><span class="line">      &quot;title&quot;: &quot;国产xxxxxx&quot;,</span><br><span class="line">      &quot;thumb&quot;: &quot;https:&#x2F;&#x2F;9xxxxxxm&#x2F;bbc&#x2F;20200330_x_8s.jpg&quot;, </span><br><span class="line">      &quot;thumb_raw&quot;: &quot;https:&#x2F;&#x2F;9xxxxxxm&#x2F;bbc&#x2F;20200330_x_8.png&quot;, </span><br><span class="line">      &quot;preview&quot;: &quot;https:&#x2F;&#x2F;9xxxxxxm&#x2F;cover&#x2F;20200329&#x2F;1fe51ef94ad58a9210510f561de63ecf.webp&quot;, </span><br><span class="line">      &#x2F;&#x2F;上面这个是动图，我打开看过</span><br><span class="line">      &quot;definition&quot;: 0, </span><br><span class="line">      &quot;play&quot;: 194886, </span><br><span class="line">      &quot;good&quot;: 1193, </span><br><span class="line">      &quot;bad&quot;: 79, </span><br><span class="line">      &quot;like&quot;: 4662, </span><br><span class="line">      &quot;comment&quot;: 901, </span><br><span class="line">      &quot;uid&quot;: 3625827, </span><br><span class="line">      &quot;description&quot;: &quot;&quot;, </span><br><span class="line">      &quot;publish_time&quot;: 1585539771, </span><br><span class="line">      &quot;private&quot;: 0, </span><br><span class="line">      &quot;points&quot;: 0, </span><br><span class="line">      &quot;original&quot;: 0, </span><br><span class="line">      &quot;nickname&quot;: &quot;女xxxxxx&quot;, </span><br><span class="line">      &quot;avatar&quot;: &quot;https:&#x2F;&#x2F;9xxxxxxm&#x2F;uploads&#x2F;avatar&#x2F;20200321&#x2F;5e75bfaf15d96790.jpg&quot;, </span><br><span class="line">      &quot;vip_grade&quot;: &quot;silver_type&quot;, </span><br><span class="line">      &quot;frame&quot;: &quot;&quot;, </span><br><span class="line">      &quot;medals&quot;: &quot;8,9,10&quot;, </span><br><span class="line">      &quot;is_dav&quot;: 0</span><br><span class="line">    &#125;,</span><br></pre></td></tr></table></figure>
<p>好现在我们获取到了接口以及传递参数，那么我们现在去请求第二页试试<br>请求地址:<a href="http://47.56.88.111:8082/index/videoByTime">http://47.56.88.111:8082/index/videoByTime</a><br>suffix值:411657<br>我们将下面这个改完页数加密回去</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;&quot;type&quot;:&quot;1&quot;,&quot;page&quot;:&quot;2&quot;,&quot;row_count&quot;:&quot;20&quot;,&quot;timezone&quot;:&quot;GMT+08:00&quot;,&quot;imei&quot;:&quot;&quot;,&quot;timestamp&quot;:&quot;1585809942&quot;,&quot;encode_sign&quot;:&quot;230347f77d52df663c57a0c53ca8ffa6&quot;&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yLgaZeB96A5Guj+VA6nd2WUenF7sSMd4zluL6vfaoWSz2gm0bVW+9Tnub+mw13d0xtR9cyaL&#x2F;v3+T6Ev8rc8cFJICWvBQnjQMCtGwCn2wouCrICERVtNabuxvTqFtbXetj002d9Vqgit5jRVnVUlckmTIDvU5i9SBWvro3AZ9sQjwEfaZ7Meiy3K92K4O&#x2F;wivIflEYTFxbvfkXZwnQnWPQ&#x3D;&#x3D;</span><br></pre></td></tr></table></figure>
<p><img src="https://image.smodel.top/images/2020/19/31.png" alt=""><br>现在去请求试一下，发现会显示签名错误<br><img src="https://image.smodel.top/images/2020/19/32.png" alt=""><br>我们再来看一次这个请求参数</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">请求参数:</span><br><span class="line">&#123;</span><br><span class="line">&quot;type&quot;:&quot;1&quot;,</span><br><span class="line">&quot;page&quot;:&quot;1&quot;,&#x2F;&#x2F;页数</span><br><span class="line">&quot;row_count&quot;:&quot;20&quot;,</span><br><span class="line">&quot;timezone&quot;:&quot;GMT+08:00&quot;,</span><br><span class="line">&quot;imei&quot;:&quot;&quot;,</span><br><span class="line">&quot;timestamp&quot;:&quot;1585809942&quot;,</span><br><span class="line">&quot;encode_sign&quot;:&quot;230347f77d52df663c57a0c53ca8ffa6&quot;</span><br><span class="line">&#125;</span><br><span class="line">encode_sign我们可以猜测这个就是sign签名，而且猜测问题就出在这，如果前面值变动那么sign值也会变动</span><br></pre></td></tr></table></figure>
<p>我们带着问题去再次去看源码<br><img src="https://image.smodel.top/images/2020/19/29.png" alt=""><br>搜索这个接口的一些片段，第一个很符合我们的要求，点进去<br>我们可以看到调用了 Util中的b这个方法，而且好像和hasMap有关，猜测一下如果这个和hasMap有关，那么执行到他那里，上面只要有一个地方变换那么，这个值就会不同<br><img src="https://image.smodel.top/images/2020/19/30.png" alt=""></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">d</span><span class="params">(String str, String str2, String str3, VolleyCallBack volleyCallBack)</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">    HashMap hashMap = <span class="keyword">new</span> HashMap();</span><br><span class="line">    hashMap.put(<span class="string">"imei"</span>, Util.c(APP.a().getBaseContext()));</span><br><span class="line">    hashMap.put(<span class="string">"type"</span>, str + <span class="string">""</span>);</span><br><span class="line">    hashMap.put(<span class="string">"row_count"</span>, str2);</span><br><span class="line">    hashMap.put(<span class="string">"page"</span>, str3);</span><br><span class="line">    hashMap.put(<span class="string">"timezone"</span>, Util.f());</span><br><span class="line">    hashMap.put(<span class="string">"timestamp"</span>, Util.c());</span><br><span class="line">    hashMap.put(<span class="string">"encode_sign"</span>, Util.b((Map&lt;String, String&gt;) hashMap));</span><br><span class="line">    String e = Util.e();</span><br><span class="line">    String jSONObject = <span class="keyword">new</span> JSONObject(hashMap).toString();</span><br><span class="line">    String a2 = Util.a(jSONObject, <span class="string">"AG+BwcnekYZy$9f7X#b2zdB93brfFMmz"</span>, <span class="string">"f%Z4F+qtFh"</span> + e);</span><br><span class="line">    hashMap.clear();</span><br><span class="line">    hashMap.put(<span class="string">"post-data"</span>, a2);</span><br><span class="line">    a.a(<span class="keyword">new</span> StringRequest(<span class="number">1</span>, b + <span class="string">"index/videoByTime"</span>, hashMap, volleyCallBack, volleyCallBack, e));</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>我们继续ctrl直接点击确进去，粗略的看他应该是把Map转化为一个数组，最后数组加上那一串乱码，执行a方法，如果有\就删除最后执行MD5加密(这个地方又)<br>改一下，上面这个说法有误正确的说法应该是：执行a方法，如果有双引号就删除最后执行MD5加密<br>str.replace(“&quot;“, “”); 这里的”\“是转义字符，意思是把字符串中的双引号替换为空<br><img src="https://image.smodel.top/images/2020/19/33.png" alt=""><br>我们直接新建一个Java程序去模拟直接执行,提取出来有用的代码</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">hashMap &#x3D; new HashMap&lt;&gt;();</span><br><span class="line">hashMap.put(&quot;imei&quot;, &quot;&quot;);</span><br><span class="line">hashMap.put(&quot;type&quot;, &quot;1&quot;);</span><br><span class="line">hashMap.put(&quot;row_count&quot;, &quot;20&quot;);</span><br><span class="line">hashMap.put(&quot;page&quot;, &quot;2&quot;);</span><br><span class="line">hashMap.put(&quot;timezone&quot;, &quot;GMT+08:00&quot;);</span><br><span class="line">hashMap.put(&quot;timestamp&quot;, &quot;1585809942&quot;);</span><br><span class="line">hashMap.put(&quot;encode_sign&quot;, b(hashMap));</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">public static String b(Map&lt;String, String&gt; map) &#123;</span><br><span class="line">    String str &#x3D; &quot;&quot;;</span><br><span class="line">    ArrayList arrayList &#x3D; new ArrayList(map.entrySet());</span><br><span class="line">    Collections.sort(arrayList, new Comparator&lt;Map.Entry&lt;String, String&gt;&gt;() &#123;</span><br><span class="line">        public int compare(Map.Entry&lt;String, String&gt; entry, Map.Entry&lt;String, String&gt; entry2) &#123;</span><br><span class="line">            return entry.getKey().compareTo(entry2.getKey());</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;);</span><br><span class="line">    for (int i &#x3D; 0; i &lt; arrayList.size(); i++) &#123;</span><br><span class="line">        if (!(((Map.Entry) arrayList.get(i)).getValue() &#x3D;&#x3D; null || ((String) ((Map.Entry) arrayList.get(i)).getValue()).length() &#x3D;&#x3D; 0)) &#123;</span><br><span class="line">            str &#x3D; str + ((Map.Entry) arrayList.get(i)).getKey() + &quot;&#x3D;&quot; + ((Map.Entry) arrayList.get(i)).getValue() + &quot;&amp;&quot;;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    Log.e(&quot;Map转字符串后:-----&gt;&quot;, a(str + &quot;6Bf2_kh*P?4tuB*C#@WEVf752x8beCE@uB-Z&quot;));</span><br><span class="line">    Log.e(&quot;加密后的Sign值:-----&gt;&quot;, MD5.a(a(str + &quot;6Bf2_kh*P?4tuB*C#@WEVf752x8beCE@uB-Z&quot;)));</span><br><span class="line">    return MD5.a(a(str + &quot;6Bf2_kh*P?4tuB*C#@WEVf752x8beCE@uB-Z&quot;));</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


<p><img src="https://image.smodel.top/images/2020/19/34.png" alt=""><br>运行,我们发现他的sign值和我们上面的请求参数解密出来的sign值是一样的  </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">sign值的计算方法</span><br><span class="line">&quot;type&quot;:&quot;1&quot;,</span><br><span class="line">&quot;page&quot;:&quot;1&quot;,&#x2F;&#x2F;页数</span><br><span class="line">&quot;row_count&quot;:&quot;20&quot;,</span><br><span class="line">&quot;timezone&quot;:&quot;GMT+08:00&quot;,</span><br><span class="line">&quot;imei&quot;:&quot;&quot;,</span><br><span class="line">&quot;timestamp&quot;:&quot;1585809942&quot;,</span><br><span class="line">将上面的json数组变成：page&#x3D;1&amp;row_count&#x3D;20&amp;timestamp&#x3D;1585809942&amp;timezone&#x3D;GMT+08:00&amp;type&#x3D;1&amp;</span><br><span class="line">之后在最后补上 (6Bf2_kh*P?4tuB*C#@WEVf752x8beCE@uB-Z) 括号中的这串乱码字符串</span><br><span class="line">拼接为：page&#x3D;1&amp;row_count&#x3D;20&amp;timestamp&#x3D;1585809942&amp;timezone&#x3D;GMT+08:00&amp;type&#x3D;1&amp;6Bf2_kh*P?4tuB*C#@WEVf752x8beCE@uB-Z</span><br><span class="line">之后查找这一串字符串中是否含有“\”斜杠，如果有就删掉</span><br><span class="line">最后把这串字符串MD5加密，就生成了sign签名</span><br></pre></td></tr></table></figure>
<p><img src="https://image.smodel.top/images/2020/19/35.png" alt=""><br>ok了，现在我们知道了签名值的算法，我们再来尝试一下</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;&quot;type&quot;:&quot;1&quot;,&quot;page&quot;:&quot;2&quot;,&quot;row_count&quot;:&quot;20&quot;,&quot;timezone&quot;:&quot;GMT+08:00&quot;,&quot;imei&quot;:&quot;&quot;,&quot;timestamp&quot;:&quot;1585809942&quot;,&quot;encode_sign&quot;:&quot;230347f77d52df663c57a0c53ca8ffa6&quot;&#125;</span><br></pre></td></tr></table></figure>
<p>还是这个改了page2，然后我们还得修改修改<br>先将数组里面刚才的数据变成：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">page&#x3D;2&amp;row_count&#x3D;20&amp;timestamp&#x3D;1585809942&amp;timezone&#x3D;GMT+08:00&amp;type&#x3D;1&amp;6Bf2_kh*P?4tuB*C#@WEVf752x8beCE@uB-Z</span><br></pre></td></tr></table></figure>
<p>之后我们获取MD5值 32位小写</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">28c84a8b91b0541a1b6b96bbd6470ca1</span><br></pre></td></tr></table></figure>
<p>最终修改好的值为(将encode_sign修改为上面的MD5值)</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;&quot;type&quot;:&quot;1&quot;,&quot;page&quot;:&quot;2&quot;,&quot;row_count&quot;:&quot;20&quot;,&quot;timezone&quot;:&quot;GMT+08:00&quot;,&quot;imei&quot;:&quot;&quot;,&quot;timestamp&quot;:&quot;1585809942&quot;,&quot;encode_sign&quot;:&quot;28c84a8b91b0541a1b6b96bbd6470ca1&quot;&#125;</span><br></pre></td></tr></table></figure>
<p>之后我们再去利用一个suffix的值去加密，我这里就用123456了，下面这个就是加密的值<br>关于这个suffix的值，在代码中我们一共有3个suffix值</p>
<ul>
<li>加密密钥</li>
<li>请求参数</li>
<li>响应参数</li>
</ul>
<p>既然他是随机的，我们给定他一个值固定值，由于加密密钥和请求参数的随机值是一样的，所以我们在发送请求的时候和加密密钥时候使用同一个suffix的值就可以了</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">JtWC52qzRnKwi703B+GapxR0a39cdYwBoGXmezIAadQiY&#x2F;EOyI65c3nJ21wTjzxDRe62iTXGSlPQJjJQOMyvyrwiTOxFC0ctdNxGBKtezBqHyWv360ia3MFvFwFZnprHFYqHMfTQSOgFvpjAGcwY3ejTFqw+aFNmJJBRDD8sGAMXKADnHiIXEZSr15hdhjay+lNH+UZRg1hN71FzOA1vuw&#x3D;&#x3D;</span><br></pre></td></tr></table></figure>
<p><img src="https://image.smodel.top/images/2020/19/36.png" alt=""><br>Postman请求一下，首先修改post-data值为上面的这个加密好的值<br><img src="https://image.smodel.top/images/2020/19/37.png" alt=""><br>之后再去修改这个suffix值，这个值<br><img src="https://image.smodel.top/images/2020/19/38.png" alt=""><br>我们看到终于请求成功了<br><img src="https://image.smodel.top/images/2020/19/39.png" alt=""><br>再次梳理一下，现在我们都已经获取到了视频列表的api</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">请求网址:http:&#x2F;&#x2F;47.56.88.111:8082&#x2F;index&#x2F;videoByTime</span><br><span class="line">请求参数:&#123;&quot;type&quot;:&quot;1&quot;,&quot;page&quot;:&quot;2&quot;,&quot;row_count&quot;:&quot;20&quot;,&quot;timezone&quot;:&quot;GMT+08:00&quot;,&quot;imei&quot;:&quot;&quot;,&quot;timestamp&quot;:&quot;1585809942&quot;,&quot;encode_sign&quot;:&quot;28c84a8b91b0541a1b6b96bbd6470ca1&quot;&#125;</span><br><span class="line">请求参数设置规则首先在page页改完之后，sign的值将前面的数组转为字符串，加上(6Bf2_kh*P?4tuB*C#@WEVf752x8beCE@uB-Z)字符串，再转为MD5值</span><br><span class="line">转为MD5值之后，再把整个数组内容利用AES&#x2F;CBC&#x2F;PKCS7Padding加密</span><br><span class="line">加密密钥为AG+BwcnekYZy$9f7X#b2zdB93brfFMmz</span><br><span class="line">偏移量为f%Z4F+qtFh  +  随便一个6位数值</span><br><span class="line">请求的Header值有两个</span><br><span class="line">suffix:和上面偏移量中的六位数字匹配</span><br><span class="line">Content-Type:application&#x2F;json</span><br><span class="line"></span><br><span class="line">在获取到响应参数之后</span><br><span class="line">参数中有一个suffix值</span><br><span class="line">我们通过AES&#x2F;CBC&#x2F;PKCS7Padding解密</span><br><span class="line">加密密钥为AG+BwcnekYZy$9f7X#b2zdB93brfFMmz</span><br><span class="line">偏移量为f%Z4F+qtFh  +  响应参数中是suffix值</span><br></pre></td></tr></table></figure>
<p>获取视频详情页的视频直链播放地址，任然还是抓包，由于App端有限制，我们换网页端去抓包，网页端可以直接观看，随便打开一个视频抓包<br><img src="https://image.smodel.top/images/2020/19/40.png" alt=""><br>锁定了这个地方，我们解密请求看看没错了，这次就是我们所需要的详情页的参数<br><img src="https://image.smodel.top/images/2020/19/41.png" alt=""><br>我们再去看看post了一个什么数值</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">请求地址:https:&#x2F;&#x2F;alipaydatabase.com&#x2F;video&#x2F;getVideoUrl</span><br><span class="line">请求参数:&#123;&quot;post-data&quot;: &quot;w02dFmxKD9sIdHMDaWQNVvg&#x2F;0dW73kHAGsQZQTtetjENm8YI0sTtohJ5uDCWThA4CzBxLsXBXKvSlkY&#x2F;kIS5mroVkZyn2FL&#x2F;BZA7V&#x2F;c+t+iKeQpr&#x2F;zA7AoWEwfVyLTiQbmmb4PGAlMufR0ue6o2u&#x2F;Xz2yziDOT0HjFrO&#x2F;OP2RRs&#x3D;&quot;&#125;</span><br><span class="line">suffix值:MQB9KE</span><br><span class="line">参数解密:&#123;&quot;vid&quot;:65548,&quot;road&quot;:&quot;default1&quot;,&quot;timestamp&quot;:1585815671868,&quot;devicetype&quot;:&quot;pc&quot;,&quot;encode_sign&quot;:&quot;0cf73acfd484ca591f8b2c93702e141d&quot;&#125;</span><br><span class="line"></span><br><span class="line">响应参数:&#123;&quot;code&quot;:0,&quot;msg&quot;:&quot;\u64cd\u4f5c\u6210\u529f&quot;,&quot;data&quot;:&quot;9\&#x2F;SWHCfjHGyamn1ot0XbiAYp\&#x2F;FbT09tfGcyjk8R2yR0jKOoX7+OsNySN0ln3IF7fiLjl8asVU6bdu6uj2GbWJ0STiBoqsc2BBMKDAOerRJ8mPOS909e5VCpY0rXWbhTECKtnzeX6iDrMhxlXiAXKy1EUzIOqPAaUWbVhPiqcaTwVq00FajSC\&#x2F;yGwc2xFlQo8+sdoM93\&#x2F;JE6upKSwnBxb8unCq+WLhBd\&#x2F;l4grm+8Ames+HZAWkuTU9ozjLjIlUk4o&quot;,&quot;suffix&quot;:&quot;x6oxf5&quot;&#125;</span><br><span class="line">参数解密:&#123;&quot;data&quot;:&#123;&quot;video_url&quot;:&quot;https:\&#x2F;\&#x2F;cdn.iicgs.org\&#x2F;20200326\&#x2F;606f9222b8dd2392b47c80102ebb3c7a.mp4\&#x2F;index.m3u8&quot;,&quot;is_full&quot;:1,&quot;share_url&quot;:&quot;https:\&#x2F;\&#x2F;aes59.com\&#x2F;\&#x2F;video\&#x2F;detail?id&#x3D;65548&quot;&#125;&#125;</span><br></pre></td></tr></table></figure>
<p>我们发现上面请求参数里面有个vid的值，这个值我尝试之后正好对应上面视频列表中的id值<br><img src="https://image.smodel.top/images/2020/19/42.png" alt=""><br>所以当我们拥有了视频列表里面的id值，循环执行加密解密操作就能获取到每个视频的链接<br>可能大家也发现了这里电脑请求的suffix值含有英文字母<br>这里我们可以去看看网页的代码<br><img src="https://image.smodel.top/images/2020/19/43.png" alt=""><br>可以看到他也是6位随机数，只不过不仅是0-9，还加了字母进去<br>一开始因为这个随机数很懵，太混淆视听了<br>好了，现在我想要的两个api就已经到手了，我们最后再梳理一遍俩api</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">视频列表api</span><br><span class="line">请求网址:http:&#x2F;&#x2F;47.56.88.111:8082&#x2F;index&#x2F;videoByTime</span><br><span class="line">请求参数:&#123;&quot;type&quot;:&quot;1&quot;,&quot;page&quot;:&quot;2&quot;,&quot;row_count&quot;:&quot;20&quot;,&quot;timezone&quot;:&quot;GMT+08:00&quot;,&quot;imei&quot;:&quot;&quot;,&quot;timestamp&quot;:&quot;1585809942&quot;,&quot;encode_sign&quot;:&quot;28c84a8b91b0541a1b6b96bbd6470ca1&quot;&#125;</span><br><span class="line">请求参数设置规则首先在page页改完之后，sign的值将前面的数组转为字符串，加上(6Bf2_kh*P?4tuB*C#@WEVf752x8beCE@uB-Z)字符串，再转为MD5值</span><br><span class="line">转为MD5值之后，再把整个数组内容利用AES&#x2F;CBC&#x2F;PKCS7Padding加密</span><br><span class="line">加密密钥为AG+BwcnekYZy$9f7X#b2zdB93brfFMmz</span><br><span class="line">偏移量为f%Z4F+qtFh  +  随便一个6位数值</span><br><span class="line">请求的Header值有两个</span><br><span class="line">suffix:和上面偏移量中的六位数字匹配</span><br><span class="line">Content-Type:application&#x2F;json</span><br><span class="line"></span><br><span class="line">在获取到响应参数之后</span><br><span class="line">参数中有一个suffix值</span><br><span class="line">我们通过AES&#x2F;CBC&#x2F;PKCS7Padding解密</span><br><span class="line">加密密钥为AG+BwcnekYZy$9f7X#b2zdB93brfFMmz</span><br><span class="line">偏移量为f%Z4F+qtFh  +  响应参数中是suffix值</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">视频直链api</span><br><span class="line">请求地址:https:&#x2F;&#x2F;alipaydatabase.com&#x2F;video&#x2F;getVideoUrl</span><br><span class="line">请求参数:&#123;&quot;post-data&quot;: &quot;w02dFmxKD9sIdHMDaWQNVvg&#x2F;0dW73kHAGsQZQTtetjENm8YI0sTtohJ5uDCWThA4CzBxLsXBXKvSlkY&#x2F;kIS5mroVkZyn2FL&#x2F;BZA7V&#x2F;c+t+iKeQpr&#x2F;zA7AoWEwfVyLTiQbmmb4PGAlMufR0ue6o2u&#x2F;Xz2yziDOT0HjFrO&#x2F;OP2RRs&#x3D;&quot;&#125;</span><br><span class="line">suffix值:MQB9KE</span><br><span class="line">参数解密:&#123;&quot;vid&quot;:65548,&quot;road&quot;:&quot;default1&quot;,&quot;timestamp&quot;:1585815671868,&quot;devicetype&quot;:&quot;pc&quot;,&quot;encode_sign&quot;:&quot;0cf73acfd484ca591f8b2c93702e141d&quot;&#125;</span><br><span class="line"></span><br><span class="line">响应参数:&#123;&quot;code&quot;:0,&quot;msg&quot;:&quot;\u64cd\u4f5c\u6210\u529f&quot;,&quot;data&quot;:&quot;9\&#x2F;SWHCfjHGyamn1ot0XbiAYp\&#x2F;FbT09tfGcyjk8R2yR0jKOoX7+OsNySN0ln3IF7fiLjl8asVU6bdu6uj2GbWJ0STiBoqsc2BBMKDAOerRJ8mPOS909e5VCpY0rXWbhTECKtnzeX6iDrMhxlXiAXKy1EUzIOqPAaUWbVhPiqcaTwVq00FajSC\&#x2F;yGwc2xFlQo8+sdoM93\&#x2F;JE6upKSwnBxb8unCq+WLhBd\&#x2F;l4grm+8Ames+HZAWkuTU9ozjLjIlUk4o&quot;,&quot;suffix&quot;:&quot;x6oxf5&quot;&#125;</span><br><span class="line">参数解密:&#123;&quot;video_url&quot;:&quot;https:\&#x2F;\&#x2F;cdn.iicgs.org\&#x2F;20200326\&#x2F;606f9222b8dd2392b47c80102ebb3c7a.mp4\&#x2F;index.m3u8&quot;,&quot;is_full&quot;:1,&quot;share_url&quot;:&quot;https:\&#x2F;\&#x2F;aes59.com\&#x2F;\&#x2F;video\&#x2F;detail?id&#x3D;65548&quot;&#125;</span><br><span class="line"></span><br><span class="line">具体的加密解密操作就是上面那个视频列表的操作</span><br></pre></td></tr></table></figure>
<p>对了，视频网站还有4个线路，我们同样通过抓包来获取，我这边过程就不去演示了</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">解密出来的接口是下面这四个，这边我手动打码</span><br><span class="line">接口1:https:&#x2F;&#x2F;cdn.xxxxxx.org&#x2F;20200401&#x2F;15fd047c0b1630847deaea6888fb9dde.mp4&#x2F;index.m3u8</span><br><span class="line">接口2:https:&#x2F;&#x2F;9xxxxxx.com&#x2F;20200401&#x2F;15fd047c0b1630847deaea6888fb9dde.mp4&#x2F;index.m3u8</span><br><span class="line">接口3:https:&#x2F;&#x2F;daxxxxxx.com&#x2F;20200401&#x2F;15fd047c0b1630847deaea6888fb9dde.mp4&#x2F;index.m3u8</span><br><span class="line">接口4:https:&#x2F;&#x2F;moxxxxxx.com&#x2F;20200401&#x2F;15fd047c0b1630847deaea6888fb9dde.mp4&#x2F;index.m3u8</span><br><span class="line">后面我测试，同一个视频地址，如果需要更换线路，只需要修改域名就好，后面不需要修改</span><br></pre></td></tr></table></figure>
<p>OJBK，这个软件的分析就到此结束，我终于获取到了想要的东西<br>关于安全：我建议此软件再加个字符串混淆，类名混淆，请求参数中的时间戳是一个摆设，密钥前后可以加几个字符串，来让反编译者混淆视听，把网站也设置为登录可看视频。<br>其实再此之前我用过动态调试，用过Hook乱七八糟各种各样的方法，上面这篇是我从失败中总结出来的，文章中可能有少许错误，有错误大家可以评论区提醒一下。<br>欢迎添加我的微信，互相学习。<br><img src="https://image.smodel.top/images/2020/19/44.jpg" alt=""></p>
</div><ul class="post-copyright"><li><strong>本文标题：</strong><a href="https://www.zpf23.cn/2020/2020-7-2-9uuapp.html">深扒9UU网络请求加密</a></li><li><strong>本文作者：</strong><a href="https://www.zpf23.cn">赵鹏飞</a></li><li><strong>本文链接：</strong><a href="https://www.zpf23.cn/2020/2020-7-2-9uuapp.html">https://www.zpf23.cn/2020/2020-7-2-9uuapp.html</a></li><li><strong>版权声明：</strong><span>本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh" rel="external nofollow" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明出处！</span></li></ul><!--!--></article></div><nav class="post-navigation mt-4 level is-mobile"><div class="level-start"><a class="article-nav-prev level level-item link-muted" href="/2020/2020-7-17-aipaper.html"><i class="level-item fas fa-chevron-left"></i><span class="level-item">各科答题卡AI源文件</span></a></div><div class="level-end"><a class="article-nav-next level level-item link-muted" href="/2020/2020-6-26-Cdrhb.html"><span class="level-item">CDR合并打印问题</span><i class="level-item fas fa-chevron-right"></i></a></div></nav><!--!--></div><div class="column column-left is-4-tablet is-4-desktop is-4-widescreen  order-1 is-sticky"><!--!--><div class="card widget"><div class="card-content"><nav class="level"><div class="level-item has-text-centered flex-shrink-1"><div><figure class="image is-128x128 mx-auto mb-2"><img class="" src="https://avatars1.githubusercontent.com/u/27126222?s=460&amp;u=84c5ad9ced5374cd3f9361cd736c64bb2e20905c&amp;v=4" alt="赵鹏飞"></figure><p class="title is-size-4 is-block line-height-inherit">赵鹏飞</p><p class="is-size-6 is-flex justify-content-center"><i class="fas fa-map-marker-alt mr-1"></i><span>山西’太原</span></p></div></div></nav><nav class="level is-mobile"><div class="level-item has-text-centered is-marginless"><div><p class="heading">文章</p><a href="/archives"><p class="title">39</p></a></div></div><div class="level-item has-text-centered is-marginless"><div><p class="heading">分类</p><a href="/categories"><p class="title">7</p></a></div></div><div class="level-item has-text-centered is-marginless"><div><p class="heading">标签</p><a href="/tags"><p class="title">11</p></a></div></div></nav><div class="level"><a class="level-item button is-primary is-rounded" href="https://github.com/zhao-pf" target="_blank" rel="noopener">关注我</a></div><div class="level is-mobile"><a class="level-item button is-transparent is-white is-marginless" target="_blank" rel="noopener" title="Github" href="https://github.com/zhao-pf"><i class="fab fa-github"></i></a><a class="level-item button is-transparent is-white is-marginless" target="_blank" rel="noopener" title="Weibo" href="http://www.weibo.com/5997997257"><i class="fab fa-weibo"></i></a><a class="level-item button is-transparent is-white is-marginless" target="_blank" rel="noopener" title="Email" href="/zhaopengfei779@gmail.com"><i class="fa fa-envelope"></i></a></div></div></div><!--!--><div class="card widget"><div class="card-content"><h3 class="menu-label">最新文章</h3><article class="media"><div class="media-content size-small"><p><time dateTime="2021-03-02T05:33:46.000Z">2021-03-02</time></p><p class="title is-6"><a class="link-muted" href="/2021/2021-2-28-File.html">Java-文件相关操作</a></p><p class="is-uppercase"><i class="fas fa-folder-open has-text-grey"> </i><a class="link-muted" href="/categories/Java/">Java</a> / <a class="link-muted" href="/categories/Java/Java%E5%B7%A5%E5%85%B7%E7%B1%BB/">Java工具类</a></p></div></article><article class="media"><div class="media-content size-small"><p><time dateTime="2021-02-24T02:55:46.000Z">2021-02-24</time></p><p class="title is-6"><a class="link-muted" href="/2021/2021-2-22-Base64.html">Java-Base64</a></p><p class="is-uppercase"><i class="fas fa-folder-open has-text-grey"> </i><a class="link-muted" href="/categories/Java/">Java</a> / <a class="link-muted" href="/categories/Java/Java%E5%B7%A5%E5%85%B7%E7%B1%BB/">Java工具类</a></p></div></article><article class="media"><div class="media-content size-small"><p><time dateTime="2021-02-22T06:43:46.000Z">2021-02-22</time></p><p class="title is-6"><a class="link-muted" href="/2021/2021-2-21-JavaDate.html">Java-Date</a></p><p class="is-uppercase"><i class="fas fa-folder-open has-text-grey"> </i><a class="link-muted" href="/categories/Java/">Java</a> / <a class="link-muted" href="/categories/Java/Java%E5%B7%A5%E5%85%B7%E7%B1%BB/">Java工具类</a></p></div></article><article class="media"><div class="media-content size-small"><p><time dateTime="2021-02-21T05:17:46.000Z">2021-02-21</time></p><p class="title is-6"><a class="link-muted" href="/2021/2021-2-21-ArrayListCollections%20copy.html">Java-Collections</a></p><p class="is-uppercase"><i class="fas fa-folder-open has-text-grey"> </i><a class="link-muted" href="/categories/Java/">Java</a> / <a class="link-muted" href="/categories/Java/Java%E5%B7%A5%E5%85%B7%E7%B1%BB/">Java工具类</a></p></div></article><article class="media"><div class="media-content size-small"><p><time dateTime="2021-02-19T03:03:46.000Z">2021-02-19</time></p><p class="title is-6"><a class="link-muted" href="/2021/2021-2-19-REWifi.html">循环关闭WIFI的小工具</a></p><p class="is-uppercase"><i class="fas fa-folder-open has-text-grey"> </i><a class="link-muted" href="/categories/Android/">Android</a></p></div></article></div></div><div class="card widget"><div class="card-content"><div class="menu"><h3 class="menu-label">分类</h3><ul class="menu-list"><li><a class="level is-mobile is-marginless" href="/categories/Android/"><span class="level-start"><span class="level-item">Android</span></span><span class="level-end"><span class="level-item tag">13</span></span></a></li><li><a class="level is-mobile is-marginless" href="/categories/Java/"><span class="level-start"><span class="level-item">Java</span></span><span class="level-end"><span class="level-item tag">4</span></span></a><ul class="mr-0"><li><a class="level is-mobile is-marginless" href="/categories/Java/Java%E5%B7%A5%E5%85%B7%E7%B1%BB/"><span class="level-start"><span class="level-item">Java工具类</span></span><span class="level-end"><span class="level-item tag">4</span></span></a></li></ul></li><li><a class="level is-mobile is-marginless" href="/categories/%E5%9D%91/"><span class="level-start"><span class="level-item">坑</span></span><span class="level-end"><span class="level-item tag">3</span></span></a></li><li><a class="level is-mobile is-marginless" href="/categories/%E8%B5%84%E6%BA%90/"><span class="level-start"><span class="level-item">资源</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile is-marginless" href="/categories/%E9%80%86%E5%90%91/"><span class="level-start"><span class="level-item">逆向</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile is-marginless" href="/categories/%E9%80%86%E5%90%91%E5%AE%89%E5%85%A8/"><span class="level-start"><span class="level-item">逆向安全</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li></ul></div></div></div><div class="card widget"><div class="card-content"><div class="menu"><h3 class="menu-label">标签</h3><div class="field is-grouped is-grouped-multiline"><div class="control"><a class="tags has-addons" href="/tags/%E9%97%AE%E9%A2%98/"><span class="tag">问题</span><span class="tag is-grey-lightest">13</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E6%95%99%E7%A8%8B/"><span class="tag">教程</span><span class="tag is-grey-lightest">6</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Java%E5%9F%BA%E7%A1%80/"><span class="tag">Java基础</span><span class="tag is-grey-lightest">4</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E5%9D%91/"><span class="tag">坑</span><span class="tag is-grey-lightest">4</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E6%9D%82%E6%96%87/"><span class="tag">杂文</span><span class="tag is-grey-lightest">3</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Android%E9%97%AE%E9%A2%98/"><span class="tag">Android问题</span><span class="tag is-grey-lightest">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E5%BC%80%E5%8F%91%E7%9A%84APP/"><span class="tag">开发的APP</span><span class="tag is-grey-lightest">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E6%9D%82%E8%B0%88/"><span class="tag">杂谈</span><span class="tag is-grey-lightest">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E5%85%B6%E4%BB%96%E9%97%AE%E9%A2%98/"><span class="tag">其他问题</span><span class="tag is-grey-lightest">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E6%9D%82%E8%81%8A/"><span class="tag">杂聊</span><span class="tag is-grey-lightest">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E8%B5%84%E6%BA%90/"><span class="tag">资源</span><span class="tag is-grey-lightest">1</span></a></div></div></div></div></div></div></div></div></section><footer class="footer"><div class="container"><div class="level"><div class="level-start"><p class="size-small"><span>&copy; 2021 赵鹏飞</span>  Powered by <a href="https://hexo.io/" target="_blank">Hexo</a> &amp; <a href="https://github.com/ppoffice/hexo-theme-icarus" target="_blank">Icarus</a>,Modify by <a href="https://github.com/removeif/hexo-theme-amazing" target="_blank">removeif</a> <br><span>© <a href="http://www.beian.miit.gov.cn/" target="_blank">晋ICP备20002936号</a><br></span></p></div><div class="level-end"><div class="field has-addons"><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="掘金" href="https://juejin.im/user/5b8cd29ff265da43481603d9"><i class="fab fa-android"></i></a></p></div><div class="sideMusic"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.css"><script src="/js/APlayer.min.js"></script><script src="https://cdn.jsdelivr.net/npm/meting@2/dist/Meting.min.js"></script><meting-js style="width: auto;height: 2000px;" server="netease" type="playlist" id="2364053447" theme="#2980b9" loop="all" autoplay="false" order="list" storageName="aplayer-setting" lrctype="0" list-max-height="400px" fixed="true"></meting-js></div></div></div></div></footer><script src="https://cdnjs.loli.net/ajax/libs/moment.js/2.22.2/moment-with-locales.min.js"></script><script>moment.locale("zh-CN");</script><script>var IcarusThemeSettings = {
            site: {
                url: 'https://www.zpf23.cn',
                external_link: {"enable":true,"exclude":[]}
            },
            article: {
                highlight: {
                    clipboard: true,
                    fold: 'unfolded'
                }
            }
        };</script><script src="https://cdnjs.loli.net/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" defer></script><script src="/js/animation.js"></script><a id="back-to-top" title="回到顶端" href="javascript:;"><i class="fas fa-chevron-up"></i></a><script src="/js/back-to-top.js" defer></script><!--!--><!--!--><script src="https://cdnjs.loli.net/ajax/libs/lightgallery/1.6.12/js/lightgallery-all.min.js" defer></script><script src="https://cdnjs.loli.net/ajax/libs/justifiedGallery/3.7.0/js/jquery.justifiedGallery.min.js" defer></script><!--!--><!--!--><!--!--><script src="/js/toc.js" defer></script><script src="/js/main.js" defer></script><link rel="stylesheet" href="/css/insight.css"><div class="searchbox ins-search"><div class="searchbox-container ins-search-container"><div class="searchbox-input-wrapper"><input class="searchbox-input ins-search-input" type="text" placeholder="想要查找什么..."><span class="searchbox-close ins-close ins-selectable"><i class="fa fa-times-circle"></i></span></div><div class="searchbox-result-wrapper ins-section-wrapper"><div class="ins-section-container"></div></div></div></div><script>(function (window) {
            var INSIGHT_CONFIG = {
                TRANSLATION: {
                    POSTS: '文章',
                    PAGES: '页面',
                    CATEGORIES: '分类',
                    TAGS: '标签',
                    UNTITLED: '(无标题)',
                },
                CONTENT_URL: '/content.json',
            };
            window.INSIGHT_CONFIG = INSIGHT_CONFIG;
        })(window);</script><script src="/js/insight.js" defer></script><script src="https://cdn.jsdelivr.net/npm/pjax@0.2.8/pjax.js"></script><script type="text/javascript">var pjax = new Pjax({
            elements: "a",//代表点击链接就更新
            selectors: [  //代表要更新的节点
                ".section",
                "title"
            ],
            cache: true,
            cacheBust:false
        })

        function loadBusuanzi(){
        $.getScript("//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js", function () {});
        }

        // 开始 PJAX 执行的函数
        document.addEventListener('pjax:send', function () {
        });
        
        // PJAX 完成之后执行的函数，可以和上面的重载放在一起
        document.addEventListener('pjax:complete', function () {
            $(".section").css({opacity:1});
            if(false){
                $.getScript('/js/comment-issue-data.js',function(){loadIssueData('undefined','undefined','undefined','undefined',undefined);});
            }
            if(false){
                loadMathJax();
            }
            loadMainJs(jQuery, window.moment, window.ClipboardJS, window.IcarusThemeSettings);
            loadBackTop();
            loadBusuanzi();
            if(typeof loadBanner == 'function'){
                loadBanner();
            }
        });</script></body><canvas class="fireworks" style="position: fixed;left: 0;top: 0;z-index: 1; pointer-events: none;"></canvas><script type="text/javascript" src="//cdn.bootcss.com/animejs/2.2.0/anime.min.js"></script><script type="text/javascript" src="/js/fireworks.js"></script></html>